# TODO_APP
## サイト概要
Railsの基礎理解を深めることを目的に開発したタスク管理アプリです。
CRUDの実装に加え、認証・認可・検索・絞り込み・ページネーション・テストまで
一通り実装し、Webアプリケーションの基本構造を体系的に学習しました。

### 開発背景
RailsのMVC構造やRESTful設計を実践的に理解するため、
まずはシンプルなCRUDアプリを土台に機能追加を重ねる形で開発しました。
特に以下を重点的に学習しました。
- ユーザー認証と認可
- データの関連付け設計
- セキュリティ(Strong Parameters)
- RSpecによるテスト実装
​
### 設計
データ設計
- User has_many :tasks
- Task belongs_to :user  
1対多の関係を設計し、user_idで紐づけています。
タスクの作成時にはcurrent_user.tasks.buildを使用し、
他のユーザーのデータが紐づかない設計にしています。
​
### 認証・認可
- Deviseによる認証機能
- before_actionでログイン制御
- request specで他のユーザーとのデータの操作を禁止するテストを実装  
「ログインしていればOK」ではなくて
「自分のデータのみ操作可能」であることを担保しています。
​
### 検索・絞り込み
Taskモデルにscopeを定義し、以下の4点を実装しています。
- キーワード検索
- 優先度フィルター
- 期限フィルター
- 並び替え  
controllerではスコープを組み合わせてクエリを構築しています。

### ページネーション
ページネーションを導入し、大量データ時の表示負荷を軽減しています。
ページネーションと検索の同時利用を考慮したテストも実装しました。

### テスト
RSpecを導入し、以下の4点を実装しています。
- model spec(バリデーション)
- request spec(認可・アクセス制御)
- system spec(E2Eテスト)
- FactoryBotによるテストデータ生成  
特に「他のユーザーのデータを操作できないこと」を重点的にテストしています。

### 学習で苦労した点
- 認可制御の実装(他のユーザーのデータへのアクセスを防止)
- 検索＋ページネーション＋並び替えのクエリ構築
- system specとrequest specの使い分け  
単に動作させるだけでなく、「安全性を担保する設計」を意識しました。

## 使用技術
- Ruby 3.x
- Ruby on Rails 7.x
- PostgreSQL
- HTML / CSS
- JavaScript（jQuery）
​
## 開発環境
- OS：Linux(CentOS)
- 言語：HTML,CSS,JavaScript,Ruby,SQL
- フレームワーク：Ruby on Rails
- JSライブラリ：jQuery
- IDE：Cloud9
​