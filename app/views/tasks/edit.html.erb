<div class="container">
  <h1 class="mb-4">タスク編集</h1>
  <% if @task.errors.any? %>
    <%= @task.errors.count %>件のエラーが発生しました
    <ul>
      <% @task.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  <% end %>
  <%= form_with model: @task do |f| %>
    <div class="mb-3">
      <%= f.label :title, "タイトル", class: "form-label" %>
      <%= f.text_field :title, class: "form-control" %>
    </div>
    <div class="mb-3">
      <%= f.label :body, "内容", class: "form-label" %>
      <%= f.text_area :body, rows: 4, class: "form-control" %>
    </div>
    <div class="mb-3">
      <%= f.label :status, "ステータス", class: "form-label" %>
      <%= f.select :status, Task.statuses.keys.map { |k| [I18n.t("enums.task.status.#{k}"), k] }, {}, class: "form-select" %>
    </div>
    <div class="mb-3">
      <%= f.label :priority, "優先度", class: "form-label" %>
      <%= f.select :priority, Task.priorities.keys.map { |k| [I18n.t("enums.task.priority.#{k}"), k] }, {}, class: "form-select" %>
    </div>
    <div class="mb-3">
      <%= f.label :due_date, "期限", class: "form-label" %>
      <%= f.datetime_local_field :due_date, class: "form-control" %>
    </div>
    <div class="mb-3">
      <%= f.label :image, "画像", class: "form-label" %>
      <%= f.file_field :image, accept: "image/*", class: "form-control" %>
    </div>
    <div class="d-flex justify-content-between">
      <%= link_to "戻る", tasks_path, class: "btn btn-outline-secondary" %>
      <%= f.submit "更新", class: "btn btn-primary" %>
    </div>
  <% end %>
</div>