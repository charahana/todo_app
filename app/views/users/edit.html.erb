<div class="container">
  <h2 class="mb-4 text-center">プロフィール編集</h2>
  <%= form_with(model: @user, local: true, html: { multipart: true }) do |f| %>
    <div class="mb-3">
      <%= f.label :name, "ユーザー名" %>
      <%= f.text_field :name, class: "form-control", required: true %>
    </div>
    <div class="mb-3">
      <%= f.label :email, "メールアドレス" %>
      <%= f.email_field :email, class: "form-control", required: true %>
    </div>
    <div class="mb-3">
      <%= f.label :profile_image, "プロフィール画像" %>
      <% if @user.profile_image.attached? %>
        <%= image_tag @user.profile_image.variant(resize_to_limit: [ 150, 150 ]), class: "mb-2 rounded" %>
      <% else %>
        <%= image_tag "no_image.jpg", size: "150x150", class: "mb-2 rounded" %>
      <% end %>
      <%= f.file_field :profile_image, accept: "image/*", class: "form-control-file" %>
      <small class="form-text text-muted">画像を変更する場合はこちらからアップロードしてください</small>
    </div>
    <div class="d-flex justify-content-between mt-4">
      <%= f.submit "更新する", class: "btn btn-primary" %>
      <%= link_to "戻る", user_path(@user), class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>